# Railway Configuration
# Configuration pour déploiement backend NestJS sur Railway

[build]
builder = "NIXPACKS"
buildCommand = "cd apps/backend && pnpm install && pnpm prisma generate && pnpm build"

[deploy]
startCommand = "cd apps/backend && pnpm start"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# Health check
healthcheckPath = "/health"
healthcheckTimeout = 100
healthcheckInterval = 10

# Variables d'environnement requises
# DATABASE_URL - URL PostgreSQL (fournie par Railway)
# NODE_ENV=production
# PORT (fourni par Railway)
# JWT_SECRET
# REDIS_URL (si utilisé)
# STRIPE_SECRET_KEY
# CLOUDINARY_URL
# SENTRY_DSN (optionnel)







