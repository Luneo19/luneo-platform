# ==============================================
# LUNEO BACKEND - Environment Variables
# ==============================================
# Copy this file to .env and fill in the values.
# Variables marked [REQUIRED] must be set.
# Variables marked [REQUIRED IN PROD] are mandatory in production.
# Variables marked [OPTIONAL] enable extra features when set.
# ==============================================

# --- Application ---
NODE_ENV=development
PORT=3001
API_PREFIX=/api/v1
FRONTEND_URL=http://localhost:3000
BACKEND_URL=http://localhost:3001
CORS_ORIGIN=http://localhost:3000

# --- Database [REQUIRED] ---
DATABASE_URL=postgresql://user:password@localhost:5432/luneo?schema=public

# --- JWT Authentication [REQUIRED] ---
JWT_SECRET=your-jwt-secret-at-least-32-characters-long
JWT_REFRESH_SECRET=your-jwt-refresh-secret-at-least-32-characters-long
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# --- Redis [OPTIONAL] (cache, rate limiting, sessions) ---
REDIS_URL=redis://localhost:6379

# --- Stripe Payments [REQUIRED IN PROD] ---
STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxx
STRIPE_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxx
STRIPE_PRICE_STARTER_MONTHLY=price_xxxxxxxxxxxxx
STRIPE_PRICE_STARTER_YEARLY=price_xxxxxxxxxxxxx
STRIPE_PRICE_PRO_MONTHLY=price_xxxxxxxxxxxxx
STRIPE_PRICE_PRO_YEARLY=price_xxxxxxxxxxxxx
STRIPE_PRICE_BUSINESS_MONTHLY=price_xxxxxxxxxxxxx
STRIPE_PRICE_BUSINESS_YEARLY=price_xxxxxxxxxxxxx
STRIPE_PRICE_ENTERPRISE_MONTHLY=price_xxxxxxxxxxxxx
STRIPE_PRICE_ENTERPRISE_YEARLY=price_xxxxxxxxxxxxx
STRIPE_SUCCESS_URL=http://localhost:3000/dashboard/billing/success
STRIPE_CANCEL_URL=http://localhost:3000/dashboard/billing/cancel
STRIPE_TRIAL_PERIOD_DAYS=14

# --- Security [REQUIRED IN PROD] ---
ENCRYPTION_KEY=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef

# --- OAuth [OPTIONAL] ---
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# --- Storage / Cloudinary [OPTIONAL] (image/media storage) ---
# CLOUDINARY_URL or (CLOUD_NAME + API_KEY + API_SECRET)
CLOUDINARY_URL=cloudinary://api_key:api_secret@cloud_name
CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_value_here
CLOUDINARY_API_SECRET=changeme

# --- AI Providers [OPTIONAL] ---
OPENAI_API_KEY=
REPLICATE_API_TOKEN=

# --- AI Agents Module [OPTIONAL] (reactivated modules) ---
ANTHROPIC_API_KEY=
MISTRAL_API_KEY=

# --- AI Monitoring & Alerts [OPTIONAL] ---
AI_ALERTS_ENABLED=false
AI_ALERTS_EMAIL=
AI_ALERTS_SLACK_WEBHOOK=
AI_LOG_LEVEL=info
USE_VECTOR_STORE=false

# --- Observability [OPTIONAL] ---
PROMETHEUS_ENABLED=false
METRICS_PORT=9090
METRICS_PATH=/metrics

# --- Email Provider [OPTIONAL] (at least one required in production) ---
SENDGRID_API_KEY=
SENDGRID_DOMAIN=luneo.app
SENDGRID_FROM_NAME=Luneo
SENDGRID_FROM_EMAIL=no-reply@luneo.app
SENDGRID_REPLY_TO=support@luneo.app
MAILGUN_API_KEY=
MAILGUN_DOMAIN=
MAILGUN_URL=
FROM_EMAIL=no-reply@luneo.app
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_SECURE=false
SMTP_FROM=Luneo <no-reply@luneo.app>

# --- Monitoring [OPTIONAL] ---
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# --- Push Notifications (VAPID) [OPTIONAL] ---
VAPID_PUBLIC_KEY=your_value_here
VAPID_PRIVATE_KEY=changeme

# --- Rate Limiting ---
RATE_LIMIT_TTL=60
RATE_LIMIT_LIMIT=100

# --- Currency ---
DEFAULT_CURRENCY=EUR
SUPPORTED_CURRENCIES=EUR,USD,GBP

# --- Slack Notifications [OPTIONAL] ---
SLACK_WEBHOOK_URL=

# --- Security (Cron jobs) [OPTIONAL] ---
# Secret to validate cron endpoints (e.g. Vercel Cron)
CRON_SECRET=your-cron-secret-here

# --- Stripe Addons [OPTIONAL] ---
STRIPE_ADDON_EXTRA_DESIGNS_PRODUCT_ID=
STRIPE_ADDON_EXTRA_DESIGNS_MONTHLY=
STRIPE_ADDON_EXTRA_DESIGNS_YEARLY=
STRIPE_ADDON_EXTRA_STORAGE_PRODUCT_ID=
STRIPE_ADDON_EXTRA_STORAGE_MONTHLY=
STRIPE_ADDON_EXTRA_STORAGE_YEARLY=
STRIPE_ADDON_EXTRA_TEAM_MEMBERS_PRODUCT_ID=
STRIPE_ADDON_EXTRA_TEAM_MEMBERS_MONTHLY=
STRIPE_ADDON_EXTRA_TEAM_MEMBERS_YEARLY=
STRIPE_ADDON_EXTRA_API_CALLS_PRODUCT_ID=
STRIPE_ADDON_EXTRA_API_CALLS_MONTHLY=
STRIPE_ADDON_EXTRA_API_CALLS_YEARLY=
STRIPE_ADDON_EXTRA_RENDERS_3D_PRODUCT_ID=
STRIPE_ADDON_EXTRA_RENDERS_3D_MONTHLY=
STRIPE_ADDON_EXTRA_RENDERS_3D_YEARLY=
STRIPE_PRICE_PRO=
STRIPE_PRICE_BUSINESS=
STRIPE_PRICE_ENTERPRISE=

# --- Marketplace [OPTIONAL] ---
MARKETPLACE_PLATFORM_FEE_PERCENT=30
MARKETPLACE_MIN_PAYOUT_CENTS=1000
MARKETPLACE_CONNECT_FEES_PERCENT=2

# --- Referral [OPTIONAL] ---
REFERRAL_COMMISSION_PERCENT=10
REFERRAL_COOKIE_DURATION_DAYS=30
REFERRAL_MIN_WITHDRAWAL_CENTS=5000

# --- AI Engine (customization service) [OPTIONAL] ---
AI_ENGINE_URL=http://localhost:8000

# --- OpenTelemetry / Tracing [OPTIONAL] ---
MONITORING_OPENTELEMETRY_ENABLED=false
MONITORING_OPENTELEMETRY_EXPORTER=jaeger
MONITORING_OPENTELEMETRY_ENDPOINT=http://localhost:14268/api/traces
