# LUNEO Backend - copy to .env. See docs/SECRETS_ROTATION.md for secret rotation.

# Application
NODE_ENV=development
PORT=3000
API_PREFIX=/api/v1
FRONTEND_URL=http://localhost:3000
BACKEND_URL=http://localhost:3001

# Database (add pooling params for production - see PRODUCTION_CHECKLIST.md)
DATABASE_URL="postgresql://postgres:password@localhost:5432/luneo_backend?schema=public"
# Production example with pooling:
# DATABASE_URL="postgresql://user:password@host:5432/luneo?schema=public&connection_limit=10&pool_timeout=20&connect_timeout=10"

# Redis (optional - cache, sessions, rate limiting)
REDIS_URL=redis://localhost:6379

# JWT (required - min 32 chars each)
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=15m
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-in-production
JWT_REFRESH_EXPIRES_IN=7d

# OAuth
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_CALLBACK_URL=http://localhost:3000/api/v1/auth/google/callback

GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret
GITHUB_CALLBACK_URL=http://localhost:3000/api/v1/auth/github/callback

# Stripe (required in production)
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
STRIPE_WEBHOOK_SECRET=whsec_your-stripe-webhook-secret
STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key

# Stripe Price IDs (à configurer avec vos IDs réels depuis le Dashboard Stripe)
STRIPE_PRICE_STARTER_MONTHLY=price_xxx
STRIPE_PRICE_STARTER_YEARLY=price_xxx
STRIPE_PRICE_PRO_MONTHLY=price_xxx
STRIPE_PRICE_PRO_YEARLY=price_xxx
STRIPE_PRICE_BUSINESS_MONTHLY=price_xxx
STRIPE_PRICE_BUSINESS_YEARLY=price_xxx
STRIPE_PRICE_ENTERPRISE_MONTHLY=price_xxx
STRIPE_PRICE_ENTERPRISE_YEARLY=price_xxx

# Stripe URLs and trial
STRIPE_SUCCESS_URL=http://localhost:3001/dashboard/billing/success
STRIPE_CANCEL_URL=http://localhost:3001/dashboard/billing/cancel
STRIPE_TRIAL_PERIOD_DAYS=14

# Cloudinary (required in production for media)
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=your-api-key
CLOUDINARY_API_SECRET=your-api-secret

# AI Providers (optional)
OPENAI_API_KEY=sk-your-openai-api-key
REPLICATE_API_TOKEN=r8_your-replicate-api-token

# Email - SendGrid/Mailgun/SMTP (optional; one required in production)
SENDGRID_API_KEY=
SENDGRID_DOMAIN=luneo.app
SENDGRID_FROM_NAME=Luneo
SENDGRID_FROM_EMAIL=no-reply@luneo.app
SENDGRID_REPLY_TO=support@luneo.app
MAILGUN_API_KEY=
MAILGUN_DOMAIN=
MAILGUN_URL=
FROM_EMAIL=noreply@luneo.com
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
SMTP_FROM=noreply@luneo.com
DOMAIN_VERIFIED=false
EMAIL_TEMPLATE_WELCOME=
EMAIL_TEMPLATE_PASSWORD_RESET=
EMAIL_TEMPLATE_EMAIL_CONFIRMATION=
EMAIL_TEMPLATE_INVOICE=
EMAIL_TEMPLATE_NEWSLETTER=
EMAIL_TEMPLATE_ORDER_CONFIRMATION=
EMAIL_TEMPLATE_PRODUCTION_READY=

# Monitoring (SENTRY_DSN required in production)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/123456
SENTRY_ENVIRONMENT=development
MONITORING_OPENTELEMETRY_ENABLED=false
MONITORING_OPENTELEMETRY_EXPORTER=jaeger
MONITORING_OPENTELEMETRY_ENDPOINT=http://localhost:14268/api/traces

# Rate limiting (uses RATE_LIMIT_TTL and RATE_LIMIT_LIMIT from Security section)
RATE_LIMIT_TTL=60
RATE_LIMIT_LIMIT=100
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
SLOW_DOWN_WINDOW_MS=900000
SLOW_DOWN_DELAY_AFTER=50
SLOW_DOWN_DELAY_MS=500

# Admin (seed / fallback admin creation)
ADMIN_DEFAULT_PASSWORD=change-me-in-production
ADMIN_EMAIL=admin@luneo.app
SEED_ADMIN_PASSWORD=change-me-in-production

# Seed (sample business data is optional; admin user is always created)
SEED_SAMPLE_DATA=false

# Contact emails
CONTACT_EMAIL=contact@luneo.app
FINANCE_EMAIL=finance@luneo.app
AFFILIATE_EMAIL=affiliate@luneo.app

# External API URLs (optional overrides)
REPLICATE_API_URL=https://api.replicate.com/v1
QR_CODE_API_URL=https://api.qrserver.com/v1/create-qr-code/
MESHY_API_URL=https://api.meshy.ai/v2
CLOUDCONVERT_API_URL=https://api.cloudconvert.com/v2
USDZ_CONVERSION_API_URL=

# Auth
SKIP_EMAIL_VERIFICATION=false

# CORS (comma-separated; overrides default production/development origins)
CORS_ORIGINS=https://app.luneo.app,https://luneo.app,https://www.luneo.app
CORS_ORIGIN=http://localhost:3000,http://localhost:3001

# Security
ENCRYPTION_KEY=
BCRYPT_ROUNDS=12
DEFAULT_CURRENCY=EUR
SUPPORTED_CURRENCIES=EUR,USD,GBP,CHF,CAD
MARKETPLACE_PLATFORM_FEE_PERCENT=30
MARKETPLACE_MIN_PAYOUT_CENTS=1000
MARKETPLACE_CONNECT_FEES_PERCENT=2
REFERRAL_COMMISSION_PERCENT=10
REFERRAL_COOKIE_DURATION_DAYS=30
REFERRAL_MIN_WITHDRAWAL_CENTS=5000

# Database backup script (optional - for scripts/backup-db.sh)
# BACKUP_DIR=/tmp/luneo-backups
# BACKUP_S3_BUCKET=your-bucket-name
