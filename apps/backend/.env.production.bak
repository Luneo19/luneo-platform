# ==============================================
# CONFIGURATION PRODUCTION - LUNEO BACKEND
# Généré automatiquement le 2025-12-19 21:29:37
# SaaS de niveau mondial n°1 - Configuration Expert
# ==============================================

# ==============================================
# ENVIRONMENT
# ==============================================
NODE_ENV=production
PORT=3001
API_PREFIX=/api
FRONTEND_URL=https://app.luneo.app
BACKEND_URL=https://api.luneo.app
CORS_ORIGIN=https://app.luneo.app,https://luneo.app,https://www.luneo.app

# ==============================================
# DATABASE (Supabase PostgreSQL)
# ==============================================
DATABASE_URL="postgresql://postgres:[PASSWORD]@db.obrijgptqztacolemsbk.supabase.co:5432/postgres?pgbouncer=true&connection_limit=1"
DATABASE_POOL_SIZE=20
DATABASE_QUERY_TIMEOUT=30000
DATABASE_CONNECTION_TIMEOUT=10000

# ==============================================
# REDIS (Cache & Sessions)
# ==============================================
REDIS_URL="rediss://default:[TOKEN]@[ENDPOINT].upstash.io:6380"
UPSTASH_REDIS_REST_URL=""
UPSTASH_REDIS_REST_TOKEN=""
REDIS_CONNECTION_POOL_SIZE=10
REDIS_COMMAND_TIMEOUT=5000
REDIS_TTL=3600

# ==============================================
# JWT AUTHENTICATION
# ==============================================
JWT_SECRET="OPeeMCiym43RIDeUBWHpnOMaxhltT69B7B8lYDm4TvYdOWQrPjvfcDiPwXr7TxiV"
JWT_REFRESH_SECRET="8fvzmQE+pIqxiEFlUVdSE5h155JXHwdbuVf+nEqybyEbS3Dq93Bz2kQEblJY41jE"
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d
JWT_ALGORITHM=HS256

# ==============================================
# SESSION MANAGEMENT
# ==============================================
SESSION_SECRET="5O2UcRIWbupaHgJoxqJ35KFW8re35+VhxnVjGe8aBKXGZwxd8GqC2n3yZ8olkVSD"
SESSION_MAX_AGE=604800000
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTP_ONLY=true
SESSION_COOKIE_SAME_SITE=strict

# ==============================================
# ENCRYPTION
# ==============================================
MASTER_ENCRYPTION_KEY="01f1a97cbc5dbbbc220aca678e050c207d76bf5f50a6d8e5eeb6b59cf45f0154"
ENCRYPTION_KEY="0383b246311a324f6d4944260abe5368cbc6757cfacde274ce68e4bbed3a9a7c"
ENCRYPTION_ALGORITHM=aes-256-gcm

# ==============================================
# API KEYS
# ==============================================
API_KEY_SECRET="0pz2wEaF8uR/oVhmKTRwA14Nxounf4KESGek8kts2G+GyexP8tAUIH7+t25LKS+U"
API_KEY_PREFIX=luneo_live_

# ==============================================
# OAUTH PROVIDERS
# ==============================================
GOOGLE_CLIENT_ID=212705987732-qa90mdvfdv3b2ca441li1b7bivfariru.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=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
GOOGLE_CALLBACK_URL=https://api.luneo.app/api/auth/google/callback

GITHUB_CLIENT_ID=Ov23liJmVOHyn8tfxgLi
GITHUB_CLIENT_SECRET=81bbea63bfc5651e048e5e7f62f69c5d4aad55f9
GITHUB_CALLBACK_URL=https://api.luneo.app/api/auth/github/callback

# ==============================================
# STRIPE PAYMENTS
# ==============================================
STRIPE_SECRET_KEY="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"
STRIPE_WEBHOOK_SECRET="whsec_rgKvTaCDRSLV6Iv6yrF8fNBh9c2II3uu"
STRIPE_PUBLISHABLE_KEY=pk_live_jL5xDF4ylCaiXVDswVAliVA3
STRIPE_PRICE_PRO=price_1RvB1uKG9MsM6fdSnrGm2qIo
STRIPE_PRICE_BUSINESS=price_1RvB1uKG9MsM6fdS[VERIFY]
STRIPE_PRICE_ENTERPRISE=price_1SH7TMKG9MsM6fdSx4pebEXZ
STRIPE_SUCCESS_URL=https://app.luneo.app/dashboard/billing/success
STRIPE_CANCEL_URL=https://app.luneo.app/dashboard/billing/cancel
STRIPE_WEBHOOK_URL=https://api.luneo.app/api/webhooks/stripe

# ==============================================
# CLOUDINARY (Media Storage)
# ==============================================
CLOUDINARY_CLOUD_NAME="deh4aokbx"
CLOUDINARY_API_KEY="541766291559917"
CLOUDINARY_API_SECRET="s0yc_QR4w9IsM6_HRq2hM5SDnfI"
CLOUDINARY_SECURE=true
CLOUDINARY_CDN_URL=https://res.cloudinary.com

# ==============================================
# AI PROVIDERS
# ==============================================
OPENAI_API_KEY=""
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_MAX_TOKENS=4000
OPENAI_TEMPERATURE=0.7

REPLICATE_API_TOKEN=""
REPLICATE_MODEL=stability-ai/sdxl

# ==============================================
# SENDGRID EMAIL
# ==============================================
SENDGRID_API_KEY=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
SENDGRID_DOMAIN=luneo.app
SENDGRID_FROM_NAME=Luneo
SENDGRID_FROM_EMAIL=no-reply@luneo.app
SENDGRID_REPLY_TO=support@luneo.app
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_SECURE=false
SMTP_FROM=Luneo <no-reply@luneo.app>
DOMAIN_VERIFIED=true
SPF_RECORD=v=spf1 include:_spf.sendgrid.net ~all
DKIM_RECORD=[CONFIGURED-IN-SENDGRID]
DMARC_RECORD=v=DMARC1; p=quarantine; rua=mailto:dmarc@luneo.app

# ==============================================
# EMAIL TEMPLATES (SendGrid Dynamic Templates)
# ==============================================
EMAIL_TEMPLATE_WELCOME=d-welcome-template-id
EMAIL_TEMPLATE_PASSWORD_RESET=d-password-reset-template-id
EMAIL_TEMPLATE_EMAIL_CONFIRMATION=d-email-confirmation-template-id
EMAIL_TEMPLATE_INVOICE=d-invoice-template-id
EMAIL_TEMPLATE_NEWSLETTER=d-newsletter-template-id
EMAIL_TEMPLATE_ORDER_CONFIRMATION=d-order-confirmation-template-id
EMAIL_TEMPLATE_PRODUCTION_READY=d-production-ready-template-id
EMAIL_TEMPLATE_2FA_CODE=d-2fa-code-template-id

# ==============================================
# MONITORING & OBSERVABILITY
# ==============================================
SENTRY_DSN=""
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0.1
SENTRY_RELEASE=$(git rev-parse HEAD 2>/dev/null || echo "unknown")

# ==============================================
# RATE LIMITING
# ==============================================
RATE_LIMIT_TTL=60
RATE_LIMIT_LIMIT=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false
RATE_LIMIT_SKIP_FAILED_REQUESTS=false

# ==============================================
# PERFORMANCE OPTIMIZATIONS
# ==============================================
PRISMA_CONNECTION_POOL_SIZE=20
PRISMA_QUERY_TIMEOUT=30000
PRISMA_LOG_LEVEL=warn
REDIS_CONNECTION_POOL_SIZE=10
REDIS_COMMAND_TIMEOUT=5000
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# ==============================================
# LOGGING
# ==============================================
LOG_LEVEL=info
LOG_FORMAT=json
ENABLE_REQUEST_LOGGING=true
ENABLE_QUERY_LOGGING=false
LOG_FILE_PATH=logs/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=14

# ==============================================
# WEBHOOKS
# ==============================================
WEBHOOK_TIMEOUT=30000
WEBHOOK_RETRY_ATTEMPTS=3
WEBHOOK_RETRY_DELAY=5000
WEBHOOK_SIGNATURE_ALGORITHM=sha256

# ==============================================
# BULLMQ (Job Queue)
# ==============================================
BULLMQ_REDIS_URL="rediss://default:[TOKEN]@[ENDPOINT].upstash.io:6380"
BULLMQ_CONCURRENCY=5
BULLMQ_MAX_RETRIES=3
BULLMQ_RETRY_DELAY=5000
BULLMQ_REMOVE_ON_COMPLETE=true
BULLMQ_REMOVE_ON_FAIL=false

# ==============================================
# SECURITY
# ==============================================
BCRYPT_ROUNDS=12
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SYMBOLS=true
SESSION_IDLE_TIMEOUT=1800000
SESSION_ABSOLUTE_TIMEOUT=604800000

# ==============================================
# FEATURE FLAGS
# ==============================================
ENABLE_2FA=true
ENABLE_SSO=true
ENABLE_WHITE_LABEL=true
ENABLE_ANALYTICS=true
ENABLE_AI_STUDIO=true
ENABLE_VIRTUAL_TRY_ON=true
ENABLE_3D_CONFIGURATOR=true

# ==============================================
# INTEGRATIONS
# ==============================================
SHOPIFY_CLIENT_ID=
SHOPIFY_CLIENT_SECRET=
SHOPIFY_WEBHOOK_SECRET=
WOOCOMMERCE_WEBHOOK_SECRET=
PRINTFUL_API_KEY=
PRINTFUL_WEBHOOK_SECRET=
ZAPIER_WEBHOOK_SECRET=
MAKE_WEBHOOK_SECRET=
