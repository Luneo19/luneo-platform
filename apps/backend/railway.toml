[build]
builder = "DOCKERFILE"

[deploy]
# healthcheckPath = "/health"  # DÉSACTIVÉ TEMPORAIREMENT - Le healthcheck échoue car l'app ne démarre pas à temps
# healthcheckTimeout = 300
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10
# IMPORTANT: Railway Root Directory doit être configuré sur '.' (racine)
# Le Dockerfile est à la racine et gère le build depuis là
startCommand = "node dist/src/main.js"

[env]
NODE_ENV = "production"
# PORT est fourni automatiquement par Railway via $PORT
