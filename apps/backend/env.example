# -----------------------------------------------------------------------------
# LUNEO BACKEND â€“ ENVIRONMENT CONFIGURATION (NestJS)
# -----------------------------------------------------------------------------
# Duplicate this file as `.env.local` for development or `.env` in production.
# Configure secrets via a secure secret manager in CI/CD.
# -----------------------------------------------------------------------------

# --- Core Server -------------------------------------------------------------
NODE_ENV=development
PORT=3001
API_PREFIX=/api/v1
CORS_ORIGIN=http://localhost:3000
FRONTEND_URL=http://localhost:3000

# --- Database & Cache -------------------------------------------------------
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/luneo
REDIS_URL=redis://localhost:6379/0

# --- Authentication ---------------------------------------------------------
JWT_SECRET=replace-with-strong-secret
JWT_REFRESH_SECRET=replace-with-strong-refresh-secret
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# --- OAuth Providers --------------------------------------------------------
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# --- Public API OAuth Gateway ----------------------------------------------
OAUTH_BASE_URL=https://oauth.luneo.app
OAUTH_CLIENT_ID=luneo-client
OAUTH_CLIENT_SECRET=

# --- Stripe -----------------------------------------------------------------
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=
STRIPE_PRICE_PRO=
STRIPE_PRICE_BUSINESS=
STRIPE_PRICE_ENTERPRISE=
STRIPE_TOPUP_SUCCESS_URL=http://localhost:3000/billing?topup=success
STRIPE_TOPUP_CANCEL_URL=http://localhost:3000/billing?topup=cancel

# --- Cloudinary / Media -----------------------------------------------------
CLOUDINARY_CLOUD_NAME=
CLOUDINARY_API_KEY=
CLOUDINARY_API_SECRET=

# --- AI Providers -----------------------------------------------------------
OPENAI_API_KEY=
REPLICATE_API_TOKEN=

# --- Email Providers --------------------------------------------------------
SENDGRID_API_KEY=
MAILGUN_API_KEY=
MAILGUN_DOMAIN=
MAILGUN_URL=https://api.mailgun.net
FROM_EMAIL=no-reply@luneo.app

# Optional transactional email metadata
SENDGRID_DOMAIN=luneo.app
SENDGRID_FROM_NAME=Luneo
SENDGRID_FROM_EMAIL=no-reply@luneo.app
SENDGRID_REPLY_TO=support@luneo.app
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_SECURE=false
SMTP_FROM="Luneo <no-reply@luneo.app>"
DOMAIN_VERIFIED=false
SPF_RECORD=
DKIM_RECORD=
DMARC_RECORD=

EMAIL_TEMPLATE_WELCOME=
EMAIL_TEMPLATE_PASSWORD_RESET=
EMAIL_TEMPLATE_EMAIL_CONFIRMATION=
EMAIL_TEMPLATE_INVOICE=
EMAIL_TEMPLATE_NEWSLETTER=

# --- Observability ----------------------------------------------------------
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# --- Rate Limiting ----------------------------------------------------------
RATE_LIMIT_TTL=60
RATE_LIMIT_LIMIT=100

# --- Internal Integrations --------------------------------------------------
LUNEO_API_URL=http://localhost:3000/api/v1
LUNEO_API_KEY=
LUNEO_WEBHOOK_SECRET=
INTERNAL_API_TOKEN=
